{
  "hash": "2884eba5c7a32176ce3cc9bad6a02660",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Introducción a Seaborn\"\n---\n\nQué es Seaborn y cuándo debes utilizarlo? En este capítulo, ¡Lo descubrirás! Además, aprenderás a crear gráficos de dispersión y de recuento tanto con listas de datos como con DataFrames de pandas. También conocerás una de las grandes ventajas de utilizar Seaborn: la posibilidad de añadir fácilmente una tercera varible a tus gráficos utilizando el color para representar diferentes subgrupos.\n\n## Introducción a Seaborn\n\n- Qué es Seaborn?\n    - Puthon es una librería de visualización de datos\n    - Crea facilmente los tipos más comunes de gráficos\n\n- Por qué es útil Seaborn?\n    - Exploración de datos\n    - Comunicación de resultados\n\n- Ventajas de Seaborn\n    - Fácil de usar\n    - Trabaja bien con estructuras de datos de `pandas`\n    - Construído sobre `matplotlib`\n\n- Cómo iniciar?\n\n::: {#5a55f820 .cell execution_count=1}\n``` {.python .cell-code}\nimport seaborn as sns  # Samuel Norman Seaborn (sns)\nimport matplotlib.pyplot as plt\n```\n:::\n\n\n- Ejemplo 1: Scatter plot\n\n::: {#d57eb63b .cell execution_count=2}\n``` {.python .cell-code}\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nheight = [62, 64, 69, 75, 66,\n          68, 65, 71, 76, 73]\nweight = [120, 136, 148, 175, 137,\n          165, 154, 172, 200, 187]\nsns.scatterplot(x=height, y=weight)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](01_Introduccion_a_seaborn_files/figure-html/cell-3-output-1.png){}\n:::\n:::\n\n\n- Ejemplo 2: Crear un count plot\n\n::: {#604404e5 .cell execution_count=3}\n``` {.python .cell-code}\nimport seaborn as sns\nimport matplotlib.pyplot as plt\ngender = ['Female', 'Female',\n          'Female', 'Female',\n          'Male', 'Male', 'Male',\n          'Male', 'Male', 'Male']\nsns.countplot(x=gender)\n```\n\n::: {.cell-output .cell-output-display}\n![](01_Introduccion_a_seaborn_files/figure-html/cell-4-output-1.png){}\n:::\n:::\n\n\n### Hacer un gráfico de dispersión con listas\n\nEn este ejecicio, utilizaremos un conjunto de datos que contiene información sobre 227 países. Este conjunto de datos contiene mucha información interesante sobre cada país, como sus tasas de natalidad y mortalidad y su producto interno bruto (GDP). GDP es el valor de todos los bienes y servicios producidas en un año, expresado en dólares por persona.\n\nHemos creado tres listas de datos a partir de este conjunto de datos para que puedas empezar. `gdp` es una lista que contiene el valor de GDP por país, expresado en dólares por persona. `phones` es una lista con el número de teléfonos móviles por cada 1000 personas en este país. Por último `percent_literate` es una lista que contiene el porcentaje de la población de cada país que sabe leer y escribir.\n\n::: {#fc94cd37 .cell execution_count=4}\n``` {.python .cell-code}\nimport pandas as pd\n\nruta = './data/countries-of-the-world.csv'\ndf = pd.read_csv(ruta)\ndf.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Country</th>\n      <th>Region</th>\n      <th>Population</th>\n      <th>Area (sq. mi.)</th>\n      <th>Pop. Density (per sq. mi.)</th>\n      <th>Coastline (coast/area ratio)</th>\n      <th>Net migration</th>\n      <th>Infant mortality (per 1000 births)</th>\n      <th>GDP ($ per capita)</th>\n      <th>Literacy (%)</th>\n      <th>Phones (per 1000)</th>\n      <th>Arable (%)</th>\n      <th>Crops (%)</th>\n      <th>Other (%)</th>\n      <th>Climate</th>\n      <th>Birthrate</th>\n      <th>Deathrate</th>\n      <th>Agriculture</th>\n      <th>Industry</th>\n      <th>Service</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Afghanistan</td>\n      <td>ASIA (EX. NEAR EAST)</td>\n      <td>31056997</td>\n      <td>647500</td>\n      <td>48,0</td>\n      <td>0,00</td>\n      <td>23,06</td>\n      <td>163,07</td>\n      <td>700.0</td>\n      <td>36,0</td>\n      <td>3,2</td>\n      <td>12,13</td>\n      <td>0,22</td>\n      <td>87,65</td>\n      <td>1</td>\n      <td>46,6</td>\n      <td>20,34</td>\n      <td>0,38</td>\n      <td>0,24</td>\n      <td>0,38</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Albania</td>\n      <td>EASTERN EUROPE</td>\n      <td>3581655</td>\n      <td>28748</td>\n      <td>124,6</td>\n      <td>1,26</td>\n      <td>-4,93</td>\n      <td>21,52</td>\n      <td>4500.0</td>\n      <td>86,5</td>\n      <td>71,2</td>\n      <td>21,09</td>\n      <td>4,42</td>\n      <td>74,49</td>\n      <td>3</td>\n      <td>15,11</td>\n      <td>5,22</td>\n      <td>0,232</td>\n      <td>0,188</td>\n      <td>0,579</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Algeria</td>\n      <td>NORTHERN AFRICA</td>\n      <td>32930091</td>\n      <td>2381740</td>\n      <td>13,8</td>\n      <td>0,04</td>\n      <td>-0,39</td>\n      <td>31</td>\n      <td>6000.0</td>\n      <td>70,0</td>\n      <td>78,1</td>\n      <td>3,22</td>\n      <td>0,25</td>\n      <td>96,53</td>\n      <td>1</td>\n      <td>17,14</td>\n      <td>4,61</td>\n      <td>0,101</td>\n      <td>0,6</td>\n      <td>0,298</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>American Samoa</td>\n      <td>OCEANIA</td>\n      <td>57794</td>\n      <td>199</td>\n      <td>290,4</td>\n      <td>58,29</td>\n      <td>-20,71</td>\n      <td>9,27</td>\n      <td>8000.0</td>\n      <td>97,0</td>\n      <td>259,5</td>\n      <td>10</td>\n      <td>15</td>\n      <td>75</td>\n      <td>2</td>\n      <td>22,46</td>\n      <td>3,27</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Andorra</td>\n      <td>WESTERN EUROPE</td>\n      <td>71201</td>\n      <td>468</td>\n      <td>152,1</td>\n      <td>0,00</td>\n      <td>6,6</td>\n      <td>4,05</td>\n      <td>19000.0</td>\n      <td>100,0</td>\n      <td>497,2</td>\n      <td>2,22</td>\n      <td>0</td>\n      <td>97,78</td>\n      <td>3</td>\n      <td>8,71</td>\n      <td>6,25</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#fd8d635f .cell execution_count=5}\n``` {.python .cell-code}\n# Convertir a numerico los datos tipo object\ndf['Phones (per 1000)'] = df['Phones (per 1000)'].str.replace(',', '.').astype(float)\ndf['Literacy (%)'] = df['Literacy (%)'].str.replace(',', '.').astype(float)\n\n# Crear las listas\ngdp = df['GDP ($ per capita)'].tolist()\nphones = df['Phones (per 1000)'].tolist()\npercent_literate = df['Literacy (%)'].tolist()\n```\n:::\n\n\n#### Instrucciones\n\n1. Importa Matplotlib y Seaborn utilizando la convención de nomenclatura estándar.\n\n::: {#68dd843e .cell execution_count=6}\n``` {.python .cell-code}\n# Import Matplotlib and Seaborn\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n```\n:::\n\n\n2. Crea un gráfico de dispersión de GDP (`gdp`) frente al número de teléfonos por cada 1000 personas (`phones`).\n\n::: {#aa2768e7 .cell execution_count=7}\n``` {.python .cell-code}\n# Create scatterplot with GDP on x-axis and number of phones on the y-axis\nsns.scatterplot(x=gdp, y=phones)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](01_Introduccion_a_seaborn_files/figure-html/cell-8-output-1.png){}\n:::\n:::\n\n\n3. Combina el diagrama de dispersión para que muestre el porcentaje de la población que sabe leer y escribir (`percent_literate`) en el eje y.\n\n::: {#f55b4038 .cell execution_count=8}\n``` {.python .cell-code}\nsns.scatterplot(x=gdp, y=percent_literate)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](01_Introduccion_a_seaborn_files/figure-html/cell-9-output-1.png){}\n:::\n:::\n\n\nAunque este gráfico no muestra una relación lineal entre el PIB y el porcentaje de alfabetización, los países con un PIB más bajo parecen tener más probabilidades de tener un porcentaje menor de la población que puede leer y escribir.\n\n\n### Hacer un gráfico de recuento con una lista\n\nEn el ejercicio anterior, exploramos un conjunto de datos que contienen información sobre 227 países. Exploremos más a fondo estos dato: concretamente, ¿cuántos países hay en cada región del mundo?\n\nPara ello, tendremos que utilizar un gráfico de recuento. Los gráficos de recuento toman una lista categórica y devuelven barras que representan el número de entradas de la lista por categoría. Puedes crear una aquí utilizando una lista de regiones para cada país, que es uva variable llamada `region`.\n\n::: {#f7d4b571 .cell execution_count=9}\n``` {.python .cell-code}\n# Se convierte la columna Region en lista y se quitan los espacios\nregion = df['Region'].tolist()\nregion = [item.strip() for item in region]\n```\n:::\n\n\n#### Instrucciones\n\n- Importa Matplotlib y Seaborn utilizando las convenciones de nomenclatura estándar.\n- Utiliza Seaborn para crear un gráfico de recuento con `region` en el eje y.\n- Visualiza el gráfico\n\n::: {#3029d6f8 .cell execution_count=10}\n``` {.python .cell-code}\n# Import Matplotlib and Seaborn\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Create count plot with region on the y-axis\nsns.countplot(y=region)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](01_Introduccion_a_seaborn_files/figure-html/cell-11-output-1.png){}\n:::\n:::\n\n\nÁfrica Subsahariana contiene la mayoría de los países en esta lista.\n\n\n## Utilizar pandas con Seaborn\n\n- Qué es Pandas?\n    - Librería de Python para análisis de datos.\n    - Puede leer conjunto de datos de múltiples tipos de archivos. Por ejemplo csv, txt.\n    - El conjunto de datos toma la forma de objeto `DataFrame`.\n\n- Trabajando con DataFrames\n\n::: {#74e971ed .cell execution_count=11}\n``` {.python .cell-code}\nimport pandas as pd\ndf = pd.read_csv('masculinity.csv')\ndf.head()\n```\n:::\n\n\n- Usando DataFrames con countplot()\n\n::: {#8075500a .cell execution_count=12}\n``` {.python .cell-code}\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\ndf = pd.read_csv('masculinity.csv')\nsns.countplot(x='how_masucline', data=df)\nplt.show()\n```\n:::\n\n\n### Datos \"ordenados\" frente a datos \"desordenados\"\n\nAquí tenemos un conjunto de datos que muestra de una encuesta a niños sobre sus animales favoritos. Pros, ¿Podemos utilizar este conjunto de datos tal cual con Seaborn? Vamos a utilizar pandas para importar el archivo csv con los datos recogidos en la encuestra y determinar si está ordenado, lo cual es esencial para que funcione bien con Seaborn.\n\nPara empezar, se ha asignado la tura del archivo csv a la variable `csv_filepath`.\n\n#### Instrucciones\n\n1. \n- Lee el archivo csv situado en `csv_filepath` en un DataFrame llamado `df`.\n- Imprime la cabecera de `df` para mostrar las cinco primeras filas.\n\n::: {#f4cc2f4f .cell execution_count=13}\n``` {.python .cell-code}\ncsv_filepath = './data/1.2.1_example_csv.csv'\n```\n:::\n\n\n::: {#71f05c9d .cell execution_count=14}\n``` {.python .cell-code}\n# Import pandas\nimport pandas as pd\n\n# Create a DataFrame from csv file\ndf = pd.read_csv(csv_filepath)\n\n# Print the head of df\nprint(df.head())\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  Unnamed: 0               How old are you?\n0     Marion                             12\n1      Elroy                             16\n2        NaN  What is your favorite animal?\n3     Marion                            dog\n4      Elroy                            cat\n```\n:::\n:::\n\n\n2. **Pregunta**\n\nVisualiza las cinco primeras filas del DataFrame `df`. ¿Está ordenado? ¿Por qué si o por qué no?\n\n**Respuestas posibles**\n\n- [ ] Si, porque no hay erratas ni faltan valores.\n- [ ] Si, porque está vien organizado y es fácil de leer.\n- [X] No, porque una misma columna contiene distintos tipos de formación.\n\n\n### Hacer un gráfico de recuento con un DataFrame\n\nEn este ejercicio examinaremos las respuestas a una encuesta enviada a los jóvenes. Nuestra pregunta principal aquí es: ¿cuántos jóvenes encuestados afirman tener miedo a las arañas? Se pidió a los participantes en la encuesta que estuvieran de acuerdo o en desacuerdo con la afirmación \"Tengo miedo a las arañas\". Las respuestas varían de 1 a 5, donde 1 es \"Totalmente en desacuerdo\" y 5 es \"Totalmente de acuerdo\".\n\nPara empezar, la ruta del archivo csv con los datos de la encuesta se ha asignado a la variable `csv_filepath`.\n\n#### Instrucciones\n\n- Importa Matplotlib, pandas y Seaborn utilizando los nombres estándar. \n- Crea un DataFrame llamado `df` a partir del archivo csv situado en `csv_filepath`.\n- Utilizando la función `countplot()` con los argumentos `x=` y `data=` para crear un gráfico de recuento con los valores de la columna `\"Spiders\"` en el eje x.\n- Visualiza el gráfico.\n\n::: {#1d3d1ff7 .cell execution_count=15}\n``` {.python .cell-code}\ncsv_filepath = './data/young-people-survey-responses.csv'\n```\n:::\n\n\n::: {#25c15e06 .cell execution_count=16}\n``` {.python .cell-code}\n# Import Matplotlib, pandas and Seaborn\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Create a DataFrame from csv file\ndf = pd.read_csv(csv_filepath)\n\n# Create a countplot with \"Spiders\" on the x-axis\nsns.countplot(x='Spiders', data=df)\n\n# Display the plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](01_Introduccion_a_seaborn_files/figure-html/cell-17-output-1.png){}\n:::\n:::\n\n\nEste gráfico nos muestra que la gran mayoría de los jóvenes informaron no tener miedo a las arañas.\n\n\n## Añadir una tercera variable con el tono\n\nPara probarlos usaremos el siguiente Dataset:\n\n- Dataset Tips\n\n::: {#dd11490b .cell execution_count=17}\n``` {.python .cell-code}\nimport pandas as pd\nimport seaborn as sns\ntips = pd.read_csv('./data/tips.csv')\ntips.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=14}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>total_bill</th>\n      <th>tip</th>\n      <th>sex</th>\n      <th>smoker</th>\n      <th>day</th>\n      <th>time</th>\n      <th>size</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>16.99</td>\n      <td>1.01</td>\n      <td>Female</td>\n      <td>No</td>\n      <td>Sun</td>\n      <td>Dinner</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>10.34</td>\n      <td>1.66</td>\n      <td>Male</td>\n      <td>No</td>\n      <td>Sun</td>\n      <td>Dinner</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>21.01</td>\n      <td>3.50</td>\n      <td>Male</td>\n      <td>No</td>\n      <td>Sun</td>\n      <td>Dinner</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>23.68</td>\n      <td>3.31</td>\n      <td>Male</td>\n      <td>No</td>\n      <td>Sun</td>\n      <td>Dinner</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>24.59</td>\n      <td>3.61</td>\n      <td>Female</td>\n      <td>No</td>\n      <td>Sun</td>\n      <td>Dinner</td>\n      <td>4</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n- Un Scatter plot básico\n\n::: {#fc1ba0ac .cell execution_count=18}\n``` {.python .cell-code}\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.scatterplot(x='total_bill',\n                y='tip',\n                data=tips)\n\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](01_Introduccion_a_seaborn_files/figure-html/cell-19-output-1.png){}\n:::\n:::\n\n\n- Un Scatter plot con hue\n\n::: {#d54b7ae4 .cell execution_count=19}\n``` {.python .cell-code}\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.scatterplot(x='total_bill',\n                y='tip',\n                data=tips,\n                hue='smoker')\n\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](01_Introduccion_a_seaborn_files/figure-html/cell-20-output-1.png){}\n:::\n:::\n\n\n- Configurando el orden del hue\n\n::: {#02cd71e4 .cell execution_count=20}\n``` {.python .cell-code}\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.scatterplot(x='total_bill',\n                y='tip',\n                data=tips,\n                hue='smoker',\n                hue_order=['Yes',\n                            'No'])\n\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](01_Introduccion_a_seaborn_files/figure-html/cell-21-output-1.png){}\n:::\n:::\n\n\n- Especificando los colores de hue\n\n::: {#96972162 .cell execution_count=21}\n``` {.python .cell-code}\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nhue_colors = {'Yes': 'black',\n              'No': 'red'}\nsns.scatterplot(x='total_bill',\n                y='tip',\n                data=tips,\n                hue='smoker',\n                palette=hue_colors)\n\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](01_Introduccion_a_seaborn_files/figure-html/cell-22-output-1.png){}\n:::\n:::\n\n\n- Usando hue con count plots\n\n::: {#2afb9fc0 .cell execution_count=22}\n``` {.python .cell-code}\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nsns.countplot(x='smoker',\n              data=tips,\n              hue='sex')\n\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](01_Introduccion_a_seaborn_files/figure-html/cell-23-output-1.png){}\n:::\n:::\n\n\n### Gráficos de tono y dispersión\n\nEn el video anterior aprendimos como `hue` nos permite hacer fácilmente subgrupos dentro de los gráficos de Seaborn. Vamos a probarlo explorando los datos de los alumnos de secundaria. Tenemos mucha información sobre cada alumno, como su edad, dónde vive, sus hábitos de estudio y sus actividades extraescolares.\n\nPor ahora, nos fijaremos en la relación entgre el número de faltas que tienen en la escuela y su calificación final en el curso, segmentada por el lugar donde vive el alumno (zona rural frente a zona urbana).\n\n::: {#12dedc95 .cell execution_count=23}\n``` {.python .cell-code}\nstudent_data = pd.read_csv('./data/student-alcohol-consumption.csv', index_col=0)\nstudent_data.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=20}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>school</th>\n      <th>sex</th>\n      <th>age</th>\n      <th>famsize</th>\n      <th>Pstatus</th>\n      <th>Medu</th>\n      <th>Fedu</th>\n      <th>traveltime</th>\n      <th>failures</th>\n      <th>schoolsup</th>\n      <th>...</th>\n      <th>goout</th>\n      <th>Dalc</th>\n      <th>Walc</th>\n      <th>health</th>\n      <th>absences</th>\n      <th>G1</th>\n      <th>G2</th>\n      <th>G3</th>\n      <th>location</th>\n      <th>study_time</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>GP</td>\n      <td>F</td>\n      <td>18</td>\n      <td>GT3</td>\n      <td>A</td>\n      <td>4</td>\n      <td>4</td>\n      <td>2</td>\n      <td>0</td>\n      <td>yes</td>\n      <td>...</td>\n      <td>4</td>\n      <td>1</td>\n      <td>1</td>\n      <td>3</td>\n      <td>6</td>\n      <td>5</td>\n      <td>6</td>\n      <td>6</td>\n      <td>Urban</td>\n      <td>2 to 5 hours</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>GP</td>\n      <td>F</td>\n      <td>17</td>\n      <td>GT3</td>\n      <td>T</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>no</td>\n      <td>...</td>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n      <td>3</td>\n      <td>4</td>\n      <td>5</td>\n      <td>5</td>\n      <td>6</td>\n      <td>Urban</td>\n      <td>2 to 5 hours</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>GP</td>\n      <td>F</td>\n      <td>15</td>\n      <td>LE3</td>\n      <td>T</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>3</td>\n      <td>yes</td>\n      <td>...</td>\n      <td>2</td>\n      <td>2</td>\n      <td>3</td>\n      <td>3</td>\n      <td>10</td>\n      <td>7</td>\n      <td>8</td>\n      <td>10</td>\n      <td>Urban</td>\n      <td>2 to 5 hours</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>GP</td>\n      <td>F</td>\n      <td>15</td>\n      <td>GT3</td>\n      <td>T</td>\n      <td>4</td>\n      <td>2</td>\n      <td>1</td>\n      <td>0</td>\n      <td>no</td>\n      <td>...</td>\n      <td>2</td>\n      <td>1</td>\n      <td>1</td>\n      <td>5</td>\n      <td>2</td>\n      <td>15</td>\n      <td>14</td>\n      <td>15</td>\n      <td>Urban</td>\n      <td>5 to 10 hours</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>GP</td>\n      <td>F</td>\n      <td>16</td>\n      <td>GT3</td>\n      <td>T</td>\n      <td>3</td>\n      <td>3</td>\n      <td>1</td>\n      <td>0</td>\n      <td>no</td>\n      <td>...</td>\n      <td>2</td>\n      <td>1</td>\n      <td>2</td>\n      <td>5</td>\n      <td>4</td>\n      <td>6</td>\n      <td>10</td>\n      <td>10</td>\n      <td>Urban</td>\n      <td>2 to 5 hours</td>\n    </tr>\n  </tbody>\n</table>\n<p>5 rows × 29 columns</p>\n</div>\n```\n:::\n:::\n\n\n#### Instrucciones\n\n1. Crea un gráfico de dispersión con `absensces` en el eje x y la calificación final (`\"G3\"`) en el eje y utilizando el DataFrame `student_data`. Colorea los puntos del gráfico en función de `\"location\"` (urbano vs. rural)\n\n::: {#5c6fc908 .cell execution_count=24}\n``` {.python .cell-code}\n# Import Matplotlib and Seaborn\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Create a scatter plot of absences vs. final grade\nsns.scatterplot(x='absences', \n                y='G3',\n                data=student_data,\n                hue='location')\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](01_Introduccion_a_seaborn_files/figure-html/cell-25-output-1.png){}\n:::\n:::\n\n\n2. Haz que `rural` aparezca antes que `urban` en la leyenda del gráfico.\n\n::: {#61bc39eb .cell execution_count=25}\n``` {.python .cell-code}\n# Import Matplotlib and Seaborn\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Change the legend order in the scatter plot\nsns.scatterplot(x='absences', \n                y='G3',\n                data=student_data,\n                hue='location',\n                hue_order=['Rural', 'Urban'])\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](01_Introduccion_a_seaborn_files/figure-html/cell-26-output-1.png){}\n:::\n:::\n\n\nLos estudiantes con más ausencias tienden a tener calificaciones más bajas tanto en áreas rurales como urbanas.\n\n\n### Gráficos de tono y recuento\n\nSigamos explorando nuestro conjunto de datos de alumnos de secundaria examinando una nueva variable. La columna `school` indica las iniciales de la escuela a la que asistió al alumno: \"GP\" o \"MS\".\n\nEn el último ejercicio, creamos un gráfico de dispersión en el que los puntos del gráfico se coloreaban en función de si el alumno vivía en zona urbana o rural. ¿Cuántos alumnos viven en zonas urbanas frente a zonas rurales, y varía esto en función de la escuela a la que asiste el alumno?\nHagamos un gráfico de recuento con subgrupos para averiguarlo.\n\n#### Instrucciones\n\n- Rellena el diccionario `palette_colors` para asignar el valor de ubicación `\"Rural\"` al color `\"green\"` y el valor de ubicación `\"Urban\"` al color `\"blue\"`.\n\n- Crea un gráfico de recuento con `\"school\"` en el eje x utilizando el DataFrame `student_data`.\n\n    - Añade subgrupos al gráfico, utilizando la variable `\"location\"`` y utliliza el diccionario `palette_colors` para que los subgrupos de ubicación sean verdes o azules.\n\n::: {#9e7abd1d .cell execution_count=26}\n``` {.python .cell-code}\n# Import Matplotlib and Seaborn\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Create a dictionary mapping subgroup values to colors\npalette_colors = {'Rural': 'green',\n                  'Urban': 'blue'}\n\n# Create a count plot of school with location subgroups\nsns.countplot(x='school',\n              data=student_data,\n              hue='location',\n              palette=palette_colors)\n\n# Display plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](01_Introduccion_a_seaborn_files/figure-html/cell-27-output-1.png){}\n:::\n:::\n\n\nLos estudiantes en GP tienden a venir de una ubicación urbana, pero los estudiantes en MS están más equitativamente divididos.\n\n",
    "supporting": [
      "01_Introduccion_a_seaborn_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}