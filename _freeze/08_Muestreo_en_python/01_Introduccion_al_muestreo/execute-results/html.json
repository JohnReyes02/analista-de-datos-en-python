{
  "hash": "0cce4af423e57984988caeee3c3b600b",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Introducción al Muestreo\"\n---\n\nAprende qué es el muestreo y por qué es tan poderoso. También aprenderás sobre los problemas causados por el muestreo de conveniencia y las diferencias entre la verdadera aleatoriedad y la pseudoaleatoriedad.\n\n## Muestreo y estimaciones puntuales\n\nLa técnica de trabajar con un subconjunto de toda la población se le llama muestreo.\n\n-   Población vs Muestreo La población es el conjunto completo de datos que nos interesan.\n    -   No se refiere a personas.\n    -   Típicamente, no sabremos cómo es toda la población.\n\nLa muestra es el subconjunto de datos con el que estamos trabajando.\n\n-   Coffee rating dataset\n\n    ![](images/paste-1.png)\n\n    -   Cada fila representa 1 café.\n    -   Hay 1338 filas\n    -   Al café se le asigna una puntuación de cero a cien, que se almacena en la columna `total_cup_points`.\n    -   Otras columnas contienen información contextual como la variedad y el país de origen.\n    -   Puntuaciones entre 0 y 10 para atributos del café como el aroma y el cuerpo.\n    -   No contiene todos los cafés del mundo, por lo que no sabemos exactamente cuál es la población de cafés.\n    -   Hay suficientes para considerarla como la población de interés.\n\n-   Points vs. Flavor: Población\n\n::: {#684d02f4 .cell execution_count=1}\n``` {.python .cell-code}\npts_vs_flavor_pop = coffee_ratings[[\"total_points\", \"flavor\"]]\n```\n:::\n\n\n![](images/paste-2.png)\n\n-   Points vs. Flavor: 10 filas de muestra\n\n::: {#59e2f2a5 .cell execution_count=2}\n``` {.python .cell-code}\npts_vs_flavor_samp = pts_vs_flavor_pop.sample(n=10)\n```\n:::\n\n\n![](images/paste-3.png)\n\nEl método `.sample()` de pandas devuelve un subconjunto aleatorio de filas. Establecer n en 10 significa que devuelve 10 filas aleatorias. En la muestra aparecen 10 muestras únicas.\n\n-   Muestreo en Python para Series\n\n    -   Use `.sample()` en `pandas` para DataFrames y Series.\n\n::: {#fb996d7f .cell execution_count=3}\n``` {.python .cell-code}\ncup_points_samp = coffe_ratings['total_cup_points'].sample(n=10)\n```\n:::\n\n\n![](images/paste-4.png)\n\n-   Parámetros de Población & Puntos Estimados\n\n    Un parámetro de población es un cálculo realizado sobre el conjunto de datos de población.\n\n::: {#cf2caad8 .cell execution_count=4}\n``` {.python .cell-code}\nimport numpy as np\nnp.mean(pts_vs_flavor_pop['total_cup_points'])\n```\n:::\n\n\n![](images/paste-5.png)\n\nUna estimación puntual o estadística de muestra, es un cálculo basado en el conjunto de datos de muestra.\n\n::: {#b3b9276b .cell execution_count=5}\n``` {.python .cell-code}\nnp.mean(cup_points_samp)\n```\n:::\n\n\n![](images/paste-6.png)\n\n-   Puntos estimados con pandas\n\n    Trabajar con pandas puede ser más fácil que trabajar con Numpy. Estos cálculos de media se pueden realizar utilizando el método de pandas `.mean()`\n\n::: {#8d0624b4 .cell execution_count=6}\n``` {.python .cell-code}\npts_vs_flavor_pop['flavor'].mean()\n```\n:::\n\n\n![](images/paste-7.png)\n\n::: {#cbbce6e3 .cell execution_count=7}\n``` {.python .cell-code}\npts_vs_flavor_samp['flavor'].mean()\n```\n:::\n\n\n![](images/paste-8.png)\n\n### Motivos del muestreo\n\nEl muestreo es una técnica importante en tu arsenal estadísico. Sin embargo, no siempre es adecuado: hay que saber cuándo utilizarlo y cuándo trabajar con todo el conjunto de datos.\n\n¿Cuál de los siguientes no es un buen escenario para utilizar el muestreo?\n\n**Respuestas posibles**\n\n- [ ] Te han agregado un terabyte de datos sobre registros de errores del dispositivo de tu empresa.\n- [ ] Deseas conocer los hábitos de viaje de todos los ciudadanos adultos paquistaníes.\n- [X] Has terminado de recoger los datos de un pequeño estudio sobre las medidas de las alas de 10 mariposas.\n- [ ] Has estado trabajando para predecir la rotación de clientes en un proyecto de big data para tu empresa de marketing.\n\nDiez mariposas es un conjunto de datos pequeño, por lo que el muestreo no es útil aquí.\n\n\n### Muestreo simple con pandas\n\nA lo largo de este capítulo , explorarás los datos de canciones de Spotify. Cada fila de este conjunto de datos de población representa una canción, y hay más de 40000 filas. Las columnas incluyen el nombre de la canción, los artistas que la interpretaron, al año de lanzamiento y atributos de la canción como su duración, tempo y bailabilidad. Empezarás por fijarte en las duraciones.\n\nTu primera tarea es tomar una muestra del conjunto de datos de Spotify y comparar la duración media de la población con la de la muestra.\n\n::: {#e3fa7730 .cell execution_count=8}\n``` {.python .cell-code}\nimport pandas as pd\nruta = './data/spotify_2000_2020.feather'\nspotify_population = pd.read_feather(ruta)\nspotify_population.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=1}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>acousticness</th>\n      <th>artists</th>\n      <th>danceability</th>\n      <th>duration_ms</th>\n      <th>duration_minutes</th>\n      <th>energy</th>\n      <th>explicit</th>\n      <th>id</th>\n      <th>instrumentalness</th>\n      <th>key</th>\n      <th>liveness</th>\n      <th>loudness</th>\n      <th>mode</th>\n      <th>name</th>\n      <th>popularity</th>\n      <th>release_date</th>\n      <th>speechiness</th>\n      <th>tempo</th>\n      <th>valence</th>\n      <th>year</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>0.97200</td>\n      <td>['David Bauer']</td>\n      <td>0.567</td>\n      <td>313293.0</td>\n      <td>5.221550</td>\n      <td>0.227</td>\n      <td>0.0</td>\n      <td>0w0D8H1ubRerCXHWYJkinO</td>\n      <td>0.601000</td>\n      <td>10.0</td>\n      <td>0.110</td>\n      <td>-13.441</td>\n      <td>1.0</td>\n      <td>Shout to the Lord</td>\n      <td>47.0</td>\n      <td>2000</td>\n      <td>0.0290</td>\n      <td>136.123</td>\n      <td>0.0396</td>\n      <td>2000.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>0.32100</td>\n      <td>['Etta James']</td>\n      <td>0.821</td>\n      <td>360240.0</td>\n      <td>6.004000</td>\n      <td>0.418</td>\n      <td>0.0</td>\n      <td>4JVeqfE2tpi7Pv63LJZtPh</td>\n      <td>0.000372</td>\n      <td>9.0</td>\n      <td>0.222</td>\n      <td>-9.841</td>\n      <td>0.0</td>\n      <td>Miss You</td>\n      <td>51.0</td>\n      <td>2000-12-12</td>\n      <td>0.0407</td>\n      <td>117.382</td>\n      <td>0.8030</td>\n      <td>2000.0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>0.00659</td>\n      <td>['Quasimoto']</td>\n      <td>0.706</td>\n      <td>202507.0</td>\n      <td>3.375117</td>\n      <td>0.602</td>\n      <td>1.0</td>\n      <td>5pxtdhLAi0RTh1gNqhGMNA</td>\n      <td>0.000138</td>\n      <td>11.0</td>\n      <td>0.400</td>\n      <td>-8.306</td>\n      <td>0.0</td>\n      <td>Real Eyes</td>\n      <td>44.0</td>\n      <td>2000-06-13</td>\n      <td>0.3420</td>\n      <td>89.692</td>\n      <td>0.4790</td>\n      <td>2000.0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>0.00390</td>\n      <td>['Millencolin']</td>\n      <td>0.368</td>\n      <td>173360.0</td>\n      <td>2.889333</td>\n      <td>0.977</td>\n      <td>0.0</td>\n      <td>3jRsoe4Vkxa4BMYqGHX8L0</td>\n      <td>0.000000</td>\n      <td>11.0</td>\n      <td>0.350</td>\n      <td>-2.757</td>\n      <td>0.0</td>\n      <td>Penguins &amp; Polarbears</td>\n      <td>52.0</td>\n      <td>2000-02-22</td>\n      <td>0.1270</td>\n      <td>165.889</td>\n      <td>0.5480</td>\n      <td>2000.0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>0.12200</td>\n      <td>['Steve Chou']</td>\n      <td>0.501</td>\n      <td>344200.0</td>\n      <td>5.736667</td>\n      <td>0.511</td>\n      <td>0.0</td>\n      <td>4mronxcllhfyhBRqyZi8kU</td>\n      <td>0.000000</td>\n      <td>7.0</td>\n      <td>0.279</td>\n      <td>-9.836</td>\n      <td>0.0</td>\n      <td>黃昏</td>\n      <td>53.0</td>\n      <td>2000-12-25</td>\n      <td>0.0291</td>\n      <td>78.045</td>\n      <td>0.1130</td>\n      <td>2000.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n#### Instrucciones\n\n1. Muestra 1000 filas de `spotify_population`, asignándolas a `spotify_sample`.\n\n::: {#588834b6 .cell execution_count=9}\n``` {.python .cell-code}\n# Sample 1000 rows from spotify_population\nspotify_sample = spotify_population.sample(n=1000)\n\n# print sample\nprint(spotify_sample)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       acousticness                                            artists  \\\n29874       0.11500                            ['Yarbrough & Peoples']   \n13146       0.08420                                ['Black Eyed Peas']   \n4598        0.24300                                  ['Kings of Leon']   \n35709       0.60600                                    ['Johnny Cash']   \n33010       0.54800                                   ['Andy Grammer']   \n...             ...                                                ...   \n9663        0.90600                           ['Emilie-Claire Barlow']   \n27045       0.02790                                        ['Dayglow']   \n7768        0.83900  ['Jessica Keenan Wynn', 'Daniel Cooney', 'Dan ...   \n2715        0.00255                                  ['Rascal Flatts']   \n29541       0.17500                             ['The Postal Service']   \n\n       danceability  duration_ms  duration_minutes  energy  explicit  \\\n29874         0.829     249000.0          4.150000   0.710       0.0   \n13146         0.848     274733.0          4.578883   0.692       0.0   \n4598          0.642     227440.0          3.790667   0.522       0.0   \n35709         0.700     241160.0          4.019333   0.664       0.0   \n33010         0.828     198001.0          3.300017   0.560       0.0   \n...             ...          ...               ...     ...       ...   \n9663          0.653     196780.0          3.279667   0.200       0.0   \n27045         0.707     204014.0          3.400233   0.767       0.0   \n7768          0.529     315947.0          5.265783   0.330       0.0   \n2715          0.561     275587.0          4.593117   0.932       0.0   \n29541         0.704     226613.0          3.776883   0.674       0.0   \n\n                           id  instrumentalness   key  liveness  loudness  \\\n29874  0DVevhcLPiHoLaVyl6dSGr          0.145000  11.0    0.0541    -8.736   \n13146  6BSALqhEO72i9glHoke5Hc          0.000000   2.0    0.3190    -6.211   \n4598   7GWViYkd4fTS3ApKuaTLEB          0.000000  11.0    0.0915    -5.654   \n35709  3QHOeZLrjWV3R1ps587v7c          0.000002   5.0    0.2800    -8.786   \n33010  5NDUXbMwcnTQp66tI2zcdR          0.000037   0.0    0.1500    -6.685   \n...                       ...               ...   ...       ...       ...   \n9663   5PcCSUGriuhWuyyWxuBnnM          0.002760   8.0    0.1920   -10.744   \n27045  0zePbRMJ9sd7wsZRlbPQua          0.000295   7.0    0.1690    -7.072   \n7768   4KgQ3D90ZBCUkzH1F0CNsX          0.000000  10.0    0.0916    -9.333   \n2715   5Qe0ZZzG24zLx7vfWQilVu          0.000000   5.0    0.1440    -5.563   \n29541  0hZS5wwoAata1MzZj8M9uI          0.051800   2.0    0.0978    -7.389   \n\n       mode                                               name  popularity  \\\n29874   1.0                               Don't Stop The Music        50.0   \n13146   1.0                                          Like That        40.0   \n4598    0.0                                       Talihina Sky        48.0   \n35709   1.0                                One Piece at a Time        46.0   \n33010   1.0                                         Fresh Eyes        68.0   \n...     ...                                                ...         ...   \n9663    1.0                                C'est si bon - 2012        55.0   \n27045   1.0                                            Hot Rod        74.0   \n7768    0.0                                The Me Inside of Me        53.0   \n2715    1.0  Life is a Highway - From \"Cars\"/Soundtrack Ver...        43.0   \n29541   1.0                                     Nothing Better        49.0   \n\n      release_date  speechiness    tempo  valence    year  \n29874   2007-01-01       0.0415   98.293    0.949  2007.0  \n13146   2005-01-01       0.3130  112.024    0.379  2005.0  \n4598    2003-08-19       0.0261  114.431    0.391  2003.0  \n35709   2002-02-12       0.3230  102.658    0.965  2002.0  \n33010   2017-12-01       0.0327  122.054    0.872  2017.0  \n...            ...          ...      ...      ...     ...  \n9663    2012-10-16       0.0440  127.609    0.319  2012.0  \n27045   2019-11-14       0.0323  139.985    0.832  2019.0  \n7768    2014-06-10       0.0588  111.131    0.489  2014.0  \n2715    2006-01-01       0.0614  103.040    0.586  2006.0  \n29541   2003-02-19       0.0308  134.981    0.698  2003.0  \n\n[1000 rows x 20 columns]\n```\n:::\n:::\n\n\n2. \n- Calcula la duración media en minutos de `spotify_population` utilizando `pandas`.\n- Calcula la duración media en minutos de `spotify_sample` utilizando `pandas`.\n\n::: {#456573ca .cell execution_count=10}\n``` {.python .cell-code}\n# Calculate the mean duration in mins from spotify_population\nmean_dur_pop = spotify_population['duration_minutes'].mean()\n\n# Calculate the mean duration in mins from spotify_sample\nmean_dur_sample = spotify_sample['duration_minutes'].mean()\n\n# print the means\nprint(mean_dur_pop)\nprint(mean_dur_sample)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n3.8521519140900073\n3.889205233333333\n```\n:::\n:::\n\n\nSe observa que la duración media de las canciones en la muestra es similar, pero no idéntica a la duración media de las canciones en toda la poblacición.\n\n\n### Muestreos y cálculos sencillos con Numpy\n\nTambién puedes utilizar `numpy` para calcular parámetros o estadísticas partir de una lista o de la serie `pandas`.\n\n### Instrucciones\n\n1. \n- Crea una serie `pandas`, `loudness_pop`, subdividiendo la columna `loudness` de `spotify_population`.\n- Muestra `loudness_pop` para obtener 100 valores aleatorios, asignándolos a `loudness_samp`.\n\n::: {#28254c25 .cell execution_count=11}\n``` {.python .cell-code}\n# Create a pandas Series from de loudness column of spotify_population\nloudness_pop = spotify_population['loudness']\n\n# Sample 100 values of loudness_pop\nloudness_samp = loudness_pop.sample(n=100)\n\nprint(loudness_samp)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n2163     -4.543\n14799    -6.739\n38903    -5.131\n24       -8.266\n10005   -23.912\n          ...  \n10883   -14.988\n31305    -8.320\n12773    -3.367\n35398    -5.315\n7954     -4.540\nName: loudness, Length: 100, dtype: float64\n```\n:::\n:::\n\n\n2. \n- Calcula la media de `loudness_pop` utilizando `numpy`.\n- Calcula la media de `loudness_samp` utilizando `numpy`.\n\n::: {#594bc04f .cell execution_count=12}\n``` {.python .cell-code}\nimport numpy as np\n\n# Calculate the mean of loudness_pop\nmean_loudness_pop = np.mean(loudness_pop)\n\n# Calculate the mean of loudness_samp\nmean_loudness_samp = np.mean(loudness_samp)\n\nprint(mean_loudness_pop)\nprint(mean_loudness_samp)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n-7.366856851353947\n-7.57909\n```\n:::\n:::\n\n\nNuevamente, observe que el valor calculado (la media) es cercano pero no idéntico en cada caso.\n\n## Muestreo de conveniencia\n\n\n\n### ¿Son generalizables las conclusiones de la muestra?\n\n### ¿Son generalizables estos resultados?\n\n## Generación de números pseudoaleatorios\n\n### Generar números aleatorios\n\n### Comprender los valores de iniciaclización aleatorios\n\n",
    "supporting": [
      "01_Introduccion_al_muestreo_files/figure-html"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}